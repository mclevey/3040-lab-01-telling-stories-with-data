<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-10-24">
<meta name="keywords" content="storytelling, workflow, planning, simulation, representation, bias, fairness, erasure, inclusivity, reproducibility">

<title>Telling Stories with Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


<meta name="citation_title" content="Telling Stories with Data">
<meta name="citation_abstract" content="In this first lab, you will set up the essential tools that will be used throughout the course and start thinking about what it means to tell stories with data. Specifically, you will: **(1)** download and install the required software, **(2)** create accounts for platforms and services we will use, such as GitHub, **(3)** reflect on key questions from the assigned readings, and finally **(4)** exchange initial thoughts with some of your peers in class.
">
<meta name="citation_keywords" content="storytelling,workflow,planning,simulation,representation,bias,fairness,erasure,inclusivity,reproducibility">
<meta name="citation_author" content="[John McLevey](https://www.johnmclevey.com)">
<meta name="citation_publication_date" content="2024-10-24">
<meta name="citation_cover_date" content="2024-10-24">
<meta name="citation_year" content="2024">
<meta name="citation_online_date" content="2024-10-24">
<meta name="citation_language" content="en">
<meta name="citation_reference" content="citation_title=Counting the countless;,citation_author=Os Keyes;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_fulltext_html_url=https://reallifemag.com/counting-the-countless/;">
<meta name="citation_reference" content="citation_title=The kitchen counter observatory;,citation_author=Kieran Healy;,citation_publication_date=2020-05-21;,citation_cover_date=2020-05-21;,citation_year=2020;,citation_fulltext_html_url=https://kieranhealy.org/blog/archives/2020/05/21/the-kitchen-counter-observatory/;">
<meta name="citation_reference" content="citation_title=Telling stories with data: With applications in R;,citation_author=Rohan Alexander;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;">
</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Telling Stories with Data</h1>
            <p class="subtitle lead"><strong>Lab 01</strong> | SOCI 3040, Quantitative Research Methods</p>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">AUTHOR &amp; INSTRUCTOR</div>
          <div class="quarto-title-meta-heading">DUE DATE</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author"><a href="https://www.johnmclevey.com">John McLevey</a> <a href="mailto:john.mclevey@uwaterloo.ca" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        TBA
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
                <div>
            <div class="quarto-title-meta-heading">Published</div>
            <div class="quarto-title-meta-contents">
              <p class="date">October 24, 2024</p>
            </div>
          </div>
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      </div>
    </div>

    <div>
      <div class="abstract">
        <div class="block-title">LAB OVERVIEW</div>
        <p>In this first lab, you will set up the essential tools that will be used throughout the course and start thinking about what it means to tell stories with data. Specifically, you will: <strong>(1)</strong> download and install the required software, <strong>(2)</strong> create accounts for platforms and services we will use, such as GitHub, <strong>(3)</strong> reflect on key questions from the assigned readings, and finally <strong>(4)</strong> exchange initial thoughts with some of your peers in class.</p>
      </div>
    </div>

    <div>
      <div class="keywords">
        <div class="block-title">Keywords</div>
        <p>storytelling, workflow, planning, simulation, representation, bias, fairness, erasure, inclusivity, reproducibility</p>
      </div>
    </div>

    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title"><strong>LAB COMPONENTS</strong></h2>
   
  <ul>
  <li><a href="#part-1-setup" id="toc-part-1-setup" class="nav-link active" data-scroll-target="#part-1-setup">Part 1: Setup</a>
  <ul class="collapse">
  <li><a href="#step-1-install-r" id="toc-step-1-install-r" class="nav-link" data-scroll-target="#step-1-install-r">Step 1: Install R</a></li>
  <li><a href="#step-2-install-rstudio" id="toc-step-2-install-rstudio" class="nav-link" data-scroll-target="#step-2-install-rstudio">Step 2: Install RStudio</a></li>
  <li><a href="#step-3-install-quarto" id="toc-step-3-install-quarto" class="nav-link" data-scroll-target="#step-3-install-quarto">Step 3: Install Quarto</a></li>
  <li><a href="#step-4-install-git" id="toc-step-4-install-git" class="nav-link" data-scroll-target="#step-4-install-git">Step 4: Install Git</a></li>
  <li><a href="#step-5-create-a-github-account" id="toc-step-5-create-a-github-account" class="nav-link" data-scroll-target="#step-5-create-a-github-account">Step 5: Create a GitHub account</a></li>
  </ul></li>
  <li><a href="#part-2-reflection-questions" id="toc-part-2-reflection-questions" class="nav-link" data-scroll-target="#part-2-reflection-questions">Part 2: Reflection Questions</a>
  <ul class="collapse">
  <li><a href="#storytelling-planning-simulation" id="toc-storytelling-planning-simulation" class="nav-link" data-scroll-target="#storytelling-planning-simulation">Storytelling, Planning, &amp; Simulation</a></li>
  <li><a href="#ethics-and-reproducibility" id="toc-ethics-and-reproducibility" class="nav-link" data-scroll-target="#ethics-and-reproducibility">Ethics and Reproducibility</a></li>
  <li><a href="#critical-thinking" id="toc-critical-thinking" class="nav-link" data-scroll-target="#critical-thinking">Critical Thinking</a></li>
  </ul></li>
  <li><a href="#part-3-class-debrief-discussion" id="toc-part-3-class-debrief-discussion" class="nav-link" data-scroll-target="#part-3-class-debrief-discussion">Part 3: Class Debrief &amp; Discussion</a></li>
  
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">



  


<p>You should start working on this lab outside of class, ideally a day or two before we meet. Follow the instructions as best as you can and complete as much as possible. If you encounter any difficulties, make note of them. We will address them during the next class session. Be sure to write out your responses to the reflection questions, and be prepared to discuss them in pairs or small groups during class.</p>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<table class="table-striped caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Part</th>
<th style="text-align: left;">Weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;"><a href="#part-1-setup">Setup</a></td>
<td style="text-align: left;">3 points</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;"><a href="#part-2-reflection-questions">Reflection questions</a></td>
<td style="text-align: left;">3 points</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;"><a href="#part-3-debrief--discussion">Debrief &amp; discussion</a></td>
<td style="text-align: left;">(Ungraded)</td>
</tr>
</tbody>
</table>
</div></div><p>The content in this course can be challenging for <em>everyone</em> when they encounter it for the first time. It’s perfectly normal to feel confused or frustrated! 🫤😮‍💨 If you’re putting in the effort, <a href="https://en.wikipedia.org/wiki/Active_learning">active</a> and <a href="https://en.wikipedia.org/wiki/Experiential_learning">experiential learning</a> will cause some discomfort. These “growing pains” are part of the process. Take a deep breath and move your body if needed. You’ve got this! Remember, I’m here to help you learn, and so are your peers. It’s easy to feel isolated, but we’re all in this together. 😁</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lab Learning Objectives
</div>
</div>
<div class="callout-body-container callout-body">
<p>In this lab, you will:</p>
<ul>
<li>Download and install the required software (R, RStudio, Quarto, and Git) on a laptop (or tablet, if necessary) that you can bring to class.</li>
<li>Create a free GitHub account.</li>
<li>Reflect on key questions from the assigned readings.</li>
<li>Share your initial thoughts with some of your peers.</li>
<li>Compare your peers’ perspectives with your own.</li>
</ul>
</div>
</div>
<section id="part-1-setup" class="level1">
<h1>Part 1: Setup</h1>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Section Weight
</div>
</div>
<div class="callout-body-container callout-body">
<p>This section is worth 3 points in total. Each task is assigned points as shown below.</p>
</div>
</div>
<p>To tell stories with data, we need the right tools. Follow the instructions below to install the required software. Make sure to complete each step and include screenshots of the installations in your lab submission.</p>
<section id="step-1-install-r" class="level2">
<h2 class="anchored" data-anchor-id="step-1-install-r">Step 1: Install R</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Weight
</div>
</div>
<div class="callout-body-container callout-body">
<p>0.5 points</p>
</div>
</div>
<ol type="1">
<li>Go to the <a href="https://cran.r-project.org/mirrors.html">R Project website</a> and download R for your operating system (Windows, MacOS, or Linux).</li>
<li>Follow the instructions to install R.</li>
</ol>
<p>Take a screenshot of the successful installation and include it in your submission.</p>
</section>
<section id="step-2-install-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="step-2-install-rstudio">Step 2: Install RStudio</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Weight
</div>
</div>
<div class="callout-body-container callout-body">
<p>0.5 points</p>
</div>
</div>
<ol type="1">
<li>Visit the <a href="https://posit.co/download/rstudio-desktop/">RStudio website</a> and download the free version of RStudio.</li>
<li>Install RStudio and make sure it opens correctly.</li>
</ol>
<p>Take a screenshot of RStudio running on your machine.</p>
</section>
<section id="step-3-install-quarto" class="level2">
<h2 class="anchored" data-anchor-id="step-3-install-quarto">Step 3: Install Quarto</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Weight
</div>
</div>
<div class="callout-body-container callout-body">
<p>0.5 points</p>
</div>
</div>
<ol type="1">
<li>Go to the <a href="https://quarto.org/docs/get-started/">Quarto website</a> and download the appropriate version for your operating system.</li>
<li>Install Quarto and check that it integrates with RStudio.</li>
</ol>
<p>Take a screenshot of the installation success screen or Quarto running in RStudio.</p>
</section>
<section id="step-4-install-git" class="level2">
<h2 class="anchored" data-anchor-id="step-4-install-git">Step 4: Install Git</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Weight
</div>
</div>
<div class="callout-body-container callout-body">
<p>0.5 points</p>
</div>
</div>
<ol type="1">
<li>Download Git from <a href="https://git-scm.com/">Git’s official website</a>.</li>
<li>Follow the installation steps for your operating system.</li>
</ol>
</section>
<section id="step-5-create-a-github-account" class="level2">
<h2 class="anchored" data-anchor-id="step-5-create-a-github-account">Step 5: Create a GitHub account</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Weight
</div>
</div>
<div class="callout-body-container callout-body">
<p>1 point</p>
</div>
</div>
<ol type="1">
<li>Go to <a href="https://github.com/">GitHub</a> and create a free account.</li>
<li>After registering, follow the instructions to verify your email and set up a basic GitHub profile.</li>
</ol>
<p>Take a screenshot of your profile and include your GitHub username.</p>
</section>
</section>
<section id="part-2-reflection-questions" class="level1">
<h1>Part 2: Reflection Questions</h1>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Section Weight
</div>
</div>
<div class="callout-body-container callout-body">
<p>This section is worth 3 points in total. Each task is assigned points as shown below.</p>
</div>
</div>
<p>Now that you have your tools ready, let’s reflect on key ideas from the reading material.</p>
<section id="storytelling-planning-simulation" class="level2">
<h2 class="anchored" data-anchor-id="storytelling-planning-simulation">Storytelling, Planning, &amp; Simulation</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Weight
</div>
</div>
<div class="callout-body-container callout-body">
<p>1 point (each question is worth 0.5 points)</p>
</div>
</div>
<p>Based on your reading of Chapter 1 from <span class="citation" data-cites="alexander2023telling">Alexander (<a href="#ref-alexander2023telling" role="doc-biblioref">2023</a>)</span> <em>Telling Stories with Data</em>, answer the following questions in your own words:</p>
<ol type="1">
<li>Why is it important to have a clear plan before working with data? How does planning help avoid “walking aimlessly,” like Alice in Wonderland?</li>
<li>Why is simulating data before working with real data essential for an effective and efficient workflow?</li>
</ol>
</section>
<section id="ethics-and-reproducibility" class="level2">
<h2 class="anchored" data-anchor-id="ethics-and-reproducibility">Ethics and Reproducibility</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Weight
</div>
</div>
<div class="callout-body-container callout-body">
<p>1 point (each question is worth 0.5 points)</p>
</div>
</div>
<p>Read “Counting the Countless” by <span class="citation" data-cites="keyes2019">Keyes (<a href="#ref-keyes2019" role="doc-biblioref">2019</a>)</span> and “The Kitchen Counter Observatory” by <span class="citation" data-cites="kieranskitchen">Healy (<a href="#ref-kieranskitchen" role="doc-biblioref">2020</a>)</span> and then answer the following questions:</p>
<ol type="1">
<li>What are the ethical implications of telling stories with data?</li>
<li>Why is reproducibility important in quantitative social science and data science? How can you ensure your work is reproducible?</li>
</ol>
</section>
<section id="critical-thinking" class="level2">
<h2 class="anchored" data-anchor-id="critical-thinking">Critical Thinking</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Weight
</div>
</div>
<div class="callout-body-container callout-body">
<p>1 point</p>
</div>
</div>
<p>Reflect on how data can simplify the messy, complex world around us. Based on your reading, explain (in 2-3 sentences) why simplification is necessary but can also lead to limitations when analyzing social data.</p>
</section>
</section>
<section id="part-3-class-debrief-discussion" class="level1">
<h1>Part 3: Class Debrief &amp; Discussion</h1>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Weight
</div>
</div>
<div class="callout-body-container callout-body">
<p>Expected but ungraded</p>
</div>
</div>
<p>In our next class session, we will review key ideas from your journal reflections. Be prepared to discuss your answers in small groups and share any questions you had while completing this lab.</p>
</section>


<div id="quarto-appendix" class="default"><section id="submit-your-lab" class="level1 appendix"><h2 class="anchored quarto-appendix-heading">✅ Submit Your Lab!</h2><div class="quarto-appendix-contents">

<p>When you are finished, submit your lab by <strong>(coming soon…)</strong></p>
<hr>

</div></section><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-alexander2023telling" class="csl-entry" role="listitem">
Alexander, Rohan. 2023. <em>Telling Stories with Data: With Applications in <span>R</span></em>. Chapman; Hall/CRC.
</div>
<div id="ref-kieranskitchen" class="csl-entry" role="listitem">
Healy, Kieran. 2020. <span>“The Kitchen Counter Observatory,”</span> May. <a href="https://kieranhealy.org/blog/archives/2020/05/21/the-kitchen-counter-observatory/">https://kieranhealy.org/blog/archives/2020/05/21/the-kitchen-counter-observatory/</a>.
</div>
<div id="ref-keyes2019" class="csl-entry" role="listitem">
Keyes, Os. 2019. <span>“Counting the Countless.”</span> <em>Real Life</em>. <a href="https://reallifemag.com/counting-the-countless/">https://reallifemag.com/counting-the-countless/</a>.
</div>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></div></div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>